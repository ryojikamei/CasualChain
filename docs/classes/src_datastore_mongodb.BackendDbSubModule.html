<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>BackendDbSubModule | casualchain</title><meta name="description" content="Documentation for casualchain"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">casualchain</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">casualchain</a></li><li><a href="../modules/src_datastore_mongodb.html">src/datastore/mongodb</a></li><li><a href="src_datastore_mongodb.BackendDbSubModule.html">BackendDbSubModule</a></li></ul><h1>Class BackendDbSubModule</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Low-level I/O modules at the deepest level</p>
</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L51">src/datastore/mongodb.ts:51</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="src_datastore_mongodb.BackendDbSubModule.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="src_datastore_mongodb.BackendDbSubModule.html#master_key" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>master_<wbr/>key</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="src_datastore_mongodb.BackendDbSubModule.html#blockAppendToDb" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Append<wbr/>To<wbr/>Db</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#blockDeleteByOid" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Delete<wbr/>By<wbr/>Oid</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#blockGetFromDbToCursor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#blockReplaceByBlocks" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Replace<wbr/>By<wbr/>Blocks</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#cleanup" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cleanup</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#closeCursor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close<wbr/>Cursor</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#dbError" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>db<wbr/>Error</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#dbOK" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>dbOK</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#init" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>init</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#poolAppendToDb" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Append<wbr/>To<wbr/>Db</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#poolDeleteByOid" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Delete<wbr/>By<wbr/>Oid</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#poolGetFromDbToCursor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span></a>
<a href="src_datastore_mongodb.BackendDbSubModule.html#poolUpdateFlagsByOid" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Update<wbr/>Flags<wbr/>By<wbr/>Oid</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Constructors</h2></summary><section><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_BackendDbSubModule" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Backend<wbr/>Db<wbr/>Sub<wbr/>Module</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="src_datastore_mongodb.BackendDbSubModule.html" class="tsd-signature-type tsd-kind-class">BackendDbSubModule</a><a href="#constructor.new_BackendDbSubModule" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="src_datastore_mongodb.BackendDbSubModule.html" class="tsd-signature-type tsd-kind-class">BackendDbSubModule</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L75">src/datastore/mongodb.ts:75</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-protected"><a id="master_key" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>master_<wbr/>key</span><a href="#master_key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">master_<wbr/>key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Stub values for features not supported in the open source version</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L74">src/datastore/mongodb.ts:74</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="blockAppendToDb" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>block<wbr/>Append<wbr/>To<wbr/>Db</span><a href="#blockAppendToDb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="blockAppendToDb.blockAppendToDb-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">block<wbr/>Append<wbr/>To<wbr/>Db</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">wcache</span>, <span class="tsd-kind-parameter">__t</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InsertManyResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Document</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#blockAppendToDb.blockAppendToDb-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Transfer block data to the collection on db.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">wcache</span>: <a href="../types/src_block.blockFormat.html" class="tsd-signature-type tsd-kind-type-alias">blockFormat</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>source of data to transfer. set objBlock[] instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InsertManyResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Document</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains InsertManyResult if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L372">src/datastore/mongodb.ts:372</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="blockDeleteByOid" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>block<wbr/>Delete<wbr/>By<wbr/>Oid</span><a href="#blockDeleteByOid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="blockDeleteByOid.blockDeleteByOid-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">block<wbr/>Delete<wbr/>By<wbr/>Oid</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">oids</span>, <span class="tsd-kind-parameter">__t</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#blockDeleteByOid.blockDeleteByOid-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Danger: delete transactions in block collection.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">oids</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>set target oids</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and gError if it's failure.
So there is no need to check the value of success. Note it returns success even if no deletion at all.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L565">src/datastore/mongodb.ts:565</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="blockGetFromDbToCursor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>block<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span><a href="#blockGetFromDbToCursor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="blockGetFromDbToCursor.blockGetFromDbToCursor-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">block<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">__t</span>, <span class="tsd-kind-parameter">sortOrder</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">constrainedSize</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_datastore.blockCursor.html" class="tsd-signature-type tsd-kind-type-alias">blockCursor</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#blockGetFromDbToCursor.blockGetFromDbToCursor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get a cursor of specified __t from block collection data to read.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore_directio.ccDirectIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccDirectIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">sortOrder</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>can set -1 for descending order, 1 for ascending order</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">constrainedSize</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_datastore.blockCursor.html" class="tsd-signature-type tsd-kind-type-alias">blockCursor</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains objBlock[] if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L191">src/datastore/mongodb.ts:191</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="blockReplaceByBlocks" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>block<wbr/>Replace<wbr/>By<wbr/>Blocks</span><a href="#blockReplaceByBlocks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="blockReplaceByBlocks.blockReplaceByBlocks-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">block<wbr/>Replace<wbr/>By<wbr/>Blocks</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">blockResults</span>, <span class="tsd-kind-parameter">__t</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#blockReplaceByBlocks.blockReplaceByBlocks-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Danger: replace blocks by new ones.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">blockResults</span>: <a href="../types/src_system.getBlockResult.html" class="tsd-signature-type tsd-kind-type-alias">getBlockResult</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>set the new blocks</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and gError if it's failure.
So there is no need to check the value of success. Note it returns success even if no updates at all.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L626">src/datastore/mongodb.ts:626</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="cleanup" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>cleanup</span><a href="#cleanup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="cleanup.cleanup-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">cleanup</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#cleanup.cleanup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Force to clear mongodb database. Mainly used for tests.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>can inject MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L113">src/datastore/mongodb.ts:113</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="closeCursor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>close<wbr/>Cursor</span><a href="#closeCursor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="closeCursor.closeCursor-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">close<wbr/>Cursor</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#closeCursor.closeCursor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Close cursor's session</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span><div class="tsd-comment tsd-typography"><p>set session to close</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and unknown if it's failure.
So there is no need to check the value of success, and there is no need to be concerned about the failure status also.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L243">src/datastore/mongodb.ts:243</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="dbError" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>db<wbr/>Error</span><a href="#dbError" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-signature tsd-anchor-link"><a id="dbError.dbError-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">db<wbr/>Error</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">func</span>, <span class="tsd-kind-parameter">pos</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">message</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><a href="#dbError.dbError-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Abnormal return method</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">func</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>set the function/method name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">pos</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>set the position in the func</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">message</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>set the error message</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span></h4><p>returns gFailure instance contains gError instance</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L67">src/datastore/mongodb.ts:67</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="dbOK" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>dbOK</span><a href="#dbOK" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-signature tsd-anchor-link"><a id="dbOK.dbOK-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">dbOK</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="src_datastore_mongodb.BackendDbSubModule.html#dbOK.dbOK-1.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">response</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="src_datastore_mongodb.BackendDbSubModule.html#dbOK.dbOK-1.T">T</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><a href="#dbOK.dbOK-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Normal return method</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="dbOK.dbOK-1.T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">response</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="src_datastore_mongodb.BackendDbSubModule.html#dbOK.dbOK-1.T">T</a></span><div class="tsd-comment tsd-typography"><p>response contents</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="src_datastore_mongodb.BackendDbSubModule.html#dbOK.dbOK-1.T">T</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span></h4><p>returns gSuccess instance contains response</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L57">src/datastore/mongodb.ts:57</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="init" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>init</span><a href="#init" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="init.init-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">init</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">closeTarget</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">MongoClient</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#init.init-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Connect to mongodb backend datastore.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">closeTarget</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>can set MongoClient instance to close first</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">MongoClient</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains MongoClient if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L85">src/datastore/mongodb.ts:85</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="poolAppendToDb" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>pool<wbr/>Append<wbr/>To<wbr/>Db</span><a href="#poolAppendToDb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="poolAppendToDb.poolAppendToDb-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pool<wbr/>Append<wbr/>To<wbr/>Db</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">wcache</span>, <span class="tsd-kind-parameter">__t</span>, <span class="tsd-kind-parameter">retryWithNonExistent</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InsertManyResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Document</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#poolAppendToDb.poolAppendToDb-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Transfer pool data to the collection on db.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">wcache</span>: <a href="../types/src_datastore.objTx.html" class="tsd-signature-type tsd-kind-type-alias">objTx</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>source of data to transfer. set objTx_in[] instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">retryWithNonExistent</span>: <span class="tsd-signature-type">boolean</span></span><div class="tsd-comment tsd-typography"><p>recommend to set true to care rare cases</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InsertManyResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Document</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains InsertManyResult if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L277">src/datastore/mongodb.ts:277</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="poolDeleteByOid" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>pool<wbr/>Delete<wbr/>By<wbr/>Oid</span><a href="#poolDeleteByOid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="poolDeleteByOid.poolDeleteByOid-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pool<wbr/>Delete<wbr/>By<wbr/>Oid</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">oids</span>, <span class="tsd-kind-parameter">__t</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#poolDeleteByOid.poolDeleteByOid-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Danger: delete transactions in pool collection.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">oids</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>set target oids</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and gError if it's failure.
So there is no need to check the value of success. Note it returns success even if no deletion at all.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L504">src/datastore/mongodb.ts:504</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="poolGetFromDbToCursor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>pool<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span><a href="#poolGetFromDbToCursor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="poolGetFromDbToCursor.poolGetFromDbToCursor-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pool<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">__t</span>, <span class="tsd-kind-parameter">sortOrder</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">constrainedSize</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_datastore.poolCursor.html" class="tsd-signature-type tsd-kind-type-alias">poolCursor</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#poolGetFromDbToCursor.poolGetFromDbToCursor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get a cursor of pool collection data to read.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore_directio.ccDirectIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccDirectIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">sortOrder</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>can set -1 for descending order, 1 for ascending order</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">constrainedSize</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_datastore.poolCursor.html" class="tsd-signature-type tsd-kind-type-alias">poolCursor</a><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains objPool[] if it's success, and gError if it's failure.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L137">src/datastore/mongodb.ts:137</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="poolUpdateFlagsByOid" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>pool<wbr/>Update<wbr/>Flags<wbr/>By<wbr/>Oid</span><a href="#poolUpdateFlagsByOid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="poolUpdateFlagsByOid.poolUpdateFlagsByOid-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pool<wbr/>Update<wbr/>Flags<wbr/>By<wbr/>Oid</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">core</span>, <span class="tsd-kind-parameter">client</span>, <span class="tsd-kind-parameter">conf</span>, <span class="tsd-kind-parameter">oids</span>, <span class="tsd-kind-parameter">__t</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#poolUpdateFlagsByOid.poolUpdateFlagsByOid-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Turn true of the delivery flag on transactions in pool collection.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">core</span>: <a href="../types/src_datastore.ccCommonIoType.html" class="tsd-signature-type tsd-kind-type-alias">ccCommonIoType</a></span><div class="tsd-comment tsd-typography"><p>set ccDirectIoType or ccCachedIoType instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">client</span>: <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>set MongoClient instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">conf</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">mongo_authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">mongo_port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">password_encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>set dsConfigType instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>authdb</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>blockcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>dbuser</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>host</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>password</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>poolcollection</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">mongo_<wbr/>port</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">password_<wbr/>encryption</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">oids</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>set target oids</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">__t</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>in open source version, it must be equal to DEFAULT_PARSEL_IDENTIFIER</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/src_utils.gResult.html" class="tsd-signature-type tsd-kind-type-alias">gResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">, </span><a href="src_utils.gError.html" class="tsd-signature-type tsd-kind-class">gError</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>returns with gResult, that is wrapped by a Promise, that contains void if it's success, and gError if it's failure.
So there is no need to check the value of success. Note it returns success even if no update at all.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ryojikamei/CasualChain/blob/7aa242efc46588d35c5baf7ee64331df38beb92b/src/datastore/mongodb.ts#L441">src/datastore/mongodb.ts:441</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#master_key" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>master_<wbr/>key</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#blockAppendToDb" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Append<wbr/>To<wbr/>Db</span></a><a href="#blockDeleteByOid" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Delete<wbr/>By<wbr/>Oid</span></a><a href="#blockGetFromDbToCursor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span></a><a href="#blockReplaceByBlocks" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>block<wbr/>Replace<wbr/>By<wbr/>Blocks</span></a><a href="#cleanup" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cleanup</span></a><a href="#closeCursor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close<wbr/>Cursor</span></a><a href="#dbError" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>db<wbr/>Error</span></a><a href="#dbOK" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>dbOK</span></a><a href="#init" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>init</span></a><a href="#poolAppendToDb" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Append<wbr/>To<wbr/>Db</span></a><a href="#poolDeleteByOid" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Delete<wbr/>By<wbr/>Oid</span></a><a href="#poolGetFromDbToCursor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Get<wbr/>From<wbr/>Db<wbr/>To<wbr/>Cursor</span></a><a href="#poolUpdateFlagsByOid" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pool<wbr/>Update<wbr/>Flags<wbr/>By<wbr/>Oid</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>casualchain</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
